/*!
 * NevWare21 - ts-async, 0.5.0
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 and contributors. All rights reserved.
 * Licensed under the MIT license.
 */
!function(){"use strict";var g=void 0,d=null,p="",N="function",D="object",a="prototype",L="__proto__",t="undefined",o="Symbol",U="_polyfill",q="length",l="name",b="call",B="toString",r=Object,F=r[a],G=String,n=Array,w=n[a].slice;function m(n,t){try{return{v:n.apply(this,t)}}catch(n){return{e:n}}}function H(t){return function(n){return typeof n===t}}function E(n){return typeof n===t||n===t}var _=H(N);function K(n){return(n||n!==d&&!E(n))&&n&&typeof n===D}var j=n.isArray,M=H("number");function P(n){return n&&n.then&&_(n.then)}var Q=r.getOwnPropertyDescriptor,V=r.hasOwn||function(n,t){return!!n&&F.hasOwnProperty[b](n,t)||!!Q(n,t)};function u(n,t,r){if(n&&K(n))for(var e in n)if(V(n,e)&&-1===t[b](r||n,e,n[e]))break}function S(n){throw new TypeError(n)}var e=r.freeze;function W(n){return e&&u(n,function(n,t){(j(t)||K(t))&&e(t)}),X(n)}var X=e||function(n){return n},Y=r.getPrototypeOf||function(n){return n[L]||d};function Z(n){return t=W,r={},u(n,function(n,t){r[n]=n,r[t]=n}),t(r);var t,r}var i,nn=Z({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),c=G,tn="__tsUtils$gblCfg";function rn(){var n;return(n=(n=(n=typeof globalThis!==t?globalThis:n)||typeof self===t?n:self)||typeof window===t?n:window)||typeof global===t?n:global}var f,en="[object Error]";function O(n,t){var r=p,e=F[B][b](n);e===en&&(n={stack:c(n.stack),message:c(n.message),name:c(n.name)});try{r=(r=JSON.stringify(n,d,t?"number"==typeof t?t:4:g))&&r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||c(n)}catch(n){r=" - "+O(n,t)}return e+": "+r}var z,v,on={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"},A=r.defineProperty;function I(n,t,r){return A(n,t,(o={configurable:!0,enumerable:!0},(e=r).l&&(o.get=function(){return e.l.v},n=Q(e.l,"v"))&&n.set&&(o.set=function(n){e.l.v=n}),u(e,function(n,t){o[on[n]]=E(t)?o[on[n]]:t}),o));var e,o}function T(){var n;i||(n=m(rn).v||{},i=n[tn]=n[tn]||{}),z=i}function un(t){var r={};return z||T(),r.b=z.lzy,A(r,"v",{configurable:!0,get:function(){var n=t();return z.lzy||A(r,"v",{value:n}),r.b=z.lzy,n}}),r}function $(n){return A({toJSON:function(){return n}},"v",{value:n})}function cn(n,t){var r;return function(){return z||T(),(r=r&&!z.lzy?r:$(m(n,t).v)).v}}function fn(n){return un(function(){return m(R,[n]).v||g})}function an(n){return z||T(),(v=v&&!1!==n&&!z.lzy?v:$(m(rn).v||d)).v}function R(n,t){t=v&&!1!==t?v.v:an(t);return t&&t[n]?t[n]:"window"===n?sn():d}var k,ln,vn=cn(R,["document"]),sn=cn(R,["window"]),hn=cn(function(){return!!m(function(){return process&&(process.versions||{}).node}).v});function yn(){k&&k.b||(k=fn(o))}function x(n,t){var r,e=nn[n];return z||T(),k&&!z.lzy||yn(),k.v?k.v[e||n]:t?g:(f=f||{},(e=nn[n])?f[e]=f[e]||((t={description:c(r=o+"."+e),toString:function(){return o+"("+r+")"}})[U]=!0,t):void 0)}function pn(n){return n&&_(n.next)}function gn(n){return n!==d&&(n||n!==g)&&_(n[x(3)])}function s(t,n,r){if(t&&(pn(t)||(t=t[(ln=ln||$(x(3))).v]?t[ln.v]():null),pn(t))){var e=void 0,o=void 0;try{for(var u=0;!(o=t.next()).done&&-1!==n[b](r||t,o.value,u,t);)u++}catch(n){e={e:n},t.throw&&(o=null,t.throw(e))}finally{try{o&&!o.done&&t.return&&t.return(o)}finally{if(e)throw e.e}}}}function C(n,t,r){return n.apply(t,r)}function h(n,t,r){if(n)for(var e=n[q]>>>0,o=0;o<e&&!(o in n&&-1===t[b](r||n,n[o],o,n));o++);}function J(n){return(n&&n.slice||w).apply(n,w[b](arguments,1))}var dn,bn=r.create||function(n){var t;return n?((t=typeof n)!==D&&t!=N&&S("Prototype must be an Object or function: "+O(n)),r[a]=n,new r):{};function r(){}};function wn(n,t){return(r.setPrototypeOf||function(r,n){(dn=dn||un(function(){return{__proto__:[]}instanceof Array})).v?r[L]=n:u(n,function(n,t){return r[n]=t})})(n,t)}function mn(n,t){t&&(n[l]=t)}var En="unref";function _n(){return f=g,a=w[b](arguments),v=(l=j(f))?f.length:0,s=(0<v?f[0]:l?g:f)||setTimeout,h=(1<v?f[1]:g)||clearTimeout,y=a[0],a[0]=function(){p.dn(),C(y,g,w[b](arguments))},o=function(n){C(h,g,[n])},i=!0,c=(e=function(n){if(n){if(n.refresh)return n.refresh(),n;C(h,g,[n])}return C(s,g,a)})(d),(u={cancel:t,refresh:r,hasRef:function(){return c&&c.hasRef?c.hasRef():i},ref:function(){return i=!0,c&&c.ref&&c.ref(),u}})[En]=n,(p={h:u=A(u,"enabled",{get:function(){return!!c},set:function(n){!n&&c&&t(),n&&!c&&r()}}),dn:function(){c=d}}).h;function n(){return i=!1,c&&c[En]&&c[En](),u}function t(){c&&o(c),c=d}function r(){return c=e(c),i||n(),u}var e,o,u,i,c,f,a,l,v,s,h,y,p}var jn="Promise",Pn="rejected";function Sn(n,t){On(n,function(n){return t?t({status:"fulfilled",rejected:!1,value:n}):n},function(n){return t?t({status:Pn,rejected:!0,reason:n}):n})}function On(n,t,r,e){var o,u=n;try{if(P(n))(t||r)&&(u=n.then(t,r));else try{t&&(u=t(n))}catch(n){if(!r)throw n;u=r(n)}}finally{e&&(t=u,o=e)&&(P(t)?t.finally?t.finally(o):t.then(function(n){return o(),n},function(n){throw o(),n}):o())}}var zn,An=["pending","resolving","resolved",Pn],In="dispatchEvent";function Tn(n){var t;return!!(t=n&&n.createEvent?n.createEvent("Event"):t)&&t.initEvent}var $n,Rn,kn,xn,Cn,Jn="unhandledRejection",Nn=Jn.toLowerCase(),Dn=[],Ln=0,Un=10;function qn(n){return _(n)?n.toString():O(n)}function Bn(n){return new($n=$n||$(m(R,["AggregationError"]).v||(c=(i=Error)[a][l],f=Error.captureStackTrace,e=i,m(I,[r=function(){var n=this,t=arguments;try{m(mn,[i,o]);var r,e=C(i,n,w[b](t))||n;return e!==n&&(r=Y(n))!==Y(e)&&wn(e,r),f&&f(e,n.constructor),u(e,t),e}finally{m(mn,[i,c])}},l,{v:o="AggregationError",c:!0,e:!(u=function(n,t){n.errors=t[0]})}]),(r=wn(r,e))[a]=e===d?bn(e):(t[a]=e[a],new t),r))).v(n);function t(){this.constructor=r,m(I,[this,l,{v:"AggregationError",c:!0,e:!1}])}var o,u,r,i,c,f,e}function Fn(r){return function(n){var t=J(arguments,1);return r(function(r,e){try{var o=[],u=1;s(n,function(n,t){n&&(u++,On(n,function(n){o[t]=n,0==--u&&r(o)},e))}),0==--u&&r(o)}catch(n){e(n)}},t)}}function Gn(r){return function(t){var n=J(arguments,1);return P(t)?t:r(function(n){n(t)},n)}}function Hn(t){return function(r){var n=J(arguments,1);return t(function(n,t){t(r)},n)}}function y(n,t){return function(n,t,r){var i,u,e=J(arguments,3),c=0,f=!1,a=[],l=Ln++,v=!1,s=null;function o(o,u){try{return Dn.push(l),v=!0,s&&s.cancel(),s=null,n(function(r,e){a.push(function(){try{var n=2===c?o:u,t=E(n)?i:_(n)?n(i):n;P(t)?t.then(r,e):(n||3!==c?r:e)(t)}catch(n){e(n)}}),f&&y()},e)}finally{Dn.pop()}}function h(){return An[c]}function y(){var n;0<a.length&&(n=a.slice(),a=[],v=!0,s&&s.cancel(),s=null,t(n))}function p(t,r){return function(n){c===r&&(2===t&&P(n)?(c=1,n.then(p(2,1),p(3,1))):(c=t,f=!0,i=n,y(),v||3!==t||(s=s||_n(g,Un))))}}function g(){var n,t,r,e,o;v||(v=!0,hn()?process.emit(Jn,i,u):(n=sn()||an(),t=Nn,o=function(n){return I(n,"promise",{g:function(){return u}}),n.reason=i,n},r=!!Rn.v,e=vn(),o(o=(zn=zn||$(!!m(Tn,[e]).v)).v?e.createEvent("Event"):r?new Event(t):{}),zn.v&&o.initEvent(t,!1,!0),o&&n[In]?n[In](o):(e=n["on"+t])?e(o):(r=R("console"))&&(r.error||r.log)(t,O(o))))}Rn=Rn||fn(jn+"RejectionEvent"),A(u={then:o,catch:function(n){return o(void 0,n)},finally:function(t){var n=t,r=t;return _(t)&&(n=function(n){return t&&t(),n},r=function(n){throw t&&t(),n}),o(n,r)}},"state",{get:h}),z||T(),k&&!z.lzy||yn(),k.v&&(u[x(11)]="IPromise"),u.toString=function(){return"IPromise "+h()+(f?" - "+qn(i):"")},_(r)||S(jn+": executor is not a function - "+qn(r));var d=p(3,0);try{r.call(u,p(2,0),d)}catch(n){d(n)}return u}(y,(e=M(r=t)?r:0,function(n){_n(function(){h(n,function(n){try{n()}catch(n){}})},e)}),n,t);var r,e}var Kn=Fn(y),Mn=Gn(y),Qn=Hn(y);function Vn(n,t){var r;return kn||(r=y,kn=$(function(u){var n=J(arguments,1);return r(function(r,t){var e=[],o=1;function n(n,t){o++,Sn(n,function(n){n.rejected?e[t]={status:Pn,reason:n.reason}:e[t]={status:"fulfilled",value:n.value},0==--o&&r(e)})}try{j(u)?h(u,n):gn(u)?s(u,n):S("Input is not an iterable"),0==--o&&r(e)}catch(n){t(n)}},n)})),kn.v(n,t)}function Wn(n,t){var r;return xn||(r=y,xn=$(function(o){var n=J(arguments,1);return r(function(t,r){var e=!1;function n(n){Sn(n,function(n){e||(e=!0,n.rejected?r(n.reason):t(n.value))})}try{j(o)?h(o,n):gn(o)?s(o,n):S("Input is not an iterable")}catch(n){r(n)}},n)})),xn.v(n,t)}function Xn(n,t){var r;return Cn||(r=y,Cn=$(function(t){var n=J(arguments,1);return r(function(r,e){var o=[],u=1,i=!1;function n(n,t){u++,Sn(n,function(n){n.rejected?(o[t]=n.reason,0!=--u||i||e(Bn(o))):(i=!0,r(n.value))})}try{j(t)?h(t,n):gn(t)?s(t,n):S("Input is not an iterable"),0!=--u||i||e(Bn(o))}catch(n){e(n)}},n)})),Cn.v(n,t)}var Yn,Zn=x(11),n=function(){function n(n){this._$=y(n),Zn&&(this[Zn]="Promise"),A(this,"state",{get:function(){return this._$.state}})}n.all=Kn,n.race=Wn,n.any=Xn,n.reject=Qn,n.resolve=Mn,n.allSettled=Vn;var t=n.prototype;return t.then=function(n,t){return this._$.then(n,t)},t.catch=function(n){return this._$.catch(n)},t.finally=function(n){return this._$.finally(n)},n}();Promise?(Yn=Promise)&&u({all:Kn,resolved:Mn,rejected:Qn,allSettled:Vn},function(n,t){Yn[n]||(Yn[n]=t)}):Promise=n}();
//# sourceMappingURL=ts-polyfills-async.min.js.map
