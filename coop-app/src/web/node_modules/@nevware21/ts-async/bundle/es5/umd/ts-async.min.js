/*!
 * NevWare21 - ts-async, 0.5.0
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 and contributors. All rights reserved.
 * Licensed under the MIT license.
 */
function n(n){"use strict";var f=void 0,a=null,b="",$="function",q="object",l="prototype",F="__proto__",t="undefined",J="constructor",W="Symbol",H="_polyfill",L="length",U="name",s="call",B="toString",e=Object,G=e[l],K=String,M=(qt=Array)[l],v=M.slice;function S(n,t){try{return{v:n.apply(this,t)}}catch(n){return{e:n}}}function Q(t){return function(n){return typeof n===t}}function A(n){return typeof n===t||n===t}function V(n){return!!n||n!==f}var j=Q($);function X(n){return(n||n!==a&&!A(n))&&n&&typeof n===q}var d=qt.isArray,Y=Q("number");function R(n){return n&&n.then&&j(n.then)}var Z=e.getOwnPropertyDescriptor,nn=e.hasOwn||function(n,t){return!!n&&G.hasOwnProperty[s](n,t)||!!Z(n,t)};function tn(n,t,e){if(n&&X(n))for(var r in n)if(nn(n,r)&&-1===t[s](e||n,r,n[r]))break}function I(n){throw new TypeError(n)}var en=e.freeze;function rn(n){return en&&tn(n,function(n,t){(d(t)||X(t))&&en(t)}),un(n)}var un=en||function(n){return n},on=e.getPrototypeOf||function(n){return n[F]||a};function cn(n){return t=rn,e={},tn(n,function(n,t){e[n]=n,e[t]=n}),t(e);var t,e}var fn,an=cn({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),i=K,ln="__tsUtils$gblCfg";function sn(){var n;return(n=(n=(n=typeof globalThis!==t?globalThis:n)||typeof self===t?n:self)||typeof window===t?n:window)||typeof global===t?n:global}var vn,dn="[object Error]";function T(n,t){var e=b,r=G[B][s](n);r===dn&&(n={stack:i(n.stack),message:i(n.message),name:i(n.name)});try{e=(e=JSON.stringify(n,a,t?"number"==typeof t?t:4:f))&&e.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||i(n)}catch(n){e=" - "+T(n,t)}return r+": "+e}function yn(t){return function(n){return n[t]}}var E,hn={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"},_=e.defineProperty,mn=e.defineProperties;function pn(n,t,e){return _(n,t,(r=e,(u={})[hn.c]=!0,u[hn.e]=!0,r.l&&(u.get=function(){return r.l.v},n=Z(r.l,"v"))&&n.set&&(u.set=function(n){r.l.v=n}),tn(r,function(n,t){u[hn[n]]=A(t)?u[hn[n]]:t}),u));var r,u}function D(){var n;fn||(n=S(sn).v||{},fn=n[ln]=n[ln]||{}),E=fn}function gn(t){var e={};return E||D(),e.b=E.lzy,_(e,"v",{configurable:!0,get:function(){var n=t();return E.lzy||_(e,"v",{value:n}),e.b=E.lzy,n}}),e}function k(n){return _({toJSON:function(){return n}},"v",{value:n})}var r,Pn="window";function wn(n,t){var e;return function(){return E||D(),(e=e&&!E.lzy?e:k(S(n,t).v)).v}}function bn(n){return gn(function(){return S(O,[n]).v||f})}function Sn(n){return E||D(),(r=r&&!1!==n&&!E.lzy?r:k(S(sn).v||a)).v}function O(n,t){t=r&&!1!==t?r.v:Sn(t);return t&&t[n]?t[n]:n===Pn?Rn():a}var x,An,jn=wn(O,["document"]),Rn=wn(O,[Pn]),In=wn(function(){return!!S(function(){return process&&(process.versions||{}).node}).v});function Tn(){x&&x.b||(x=bn(W))}function N(n,t){var e,r=an[n];return E||D(),x&&!E.lzy||Tn(),x.v?x.v[r||n]:t?f:(vn=vn||{},(r=an[n])?vn[r]=vn[r]||((t={description:i(e=W+"."+r),toString:function(){return W+"("+e+")"}})[H]=!0,t):void 0)}function En(n){return n&&j(n.next)}function _n(n){return n!==a&&V(n)&&j(n[N(3)])}function Dn(t,n,e){if(t&&(En(t)||(t=t[(An=An||k(N(3))).v]?t[An.v]():null),En(t))){var r=void 0,u=void 0;try{for(var i=0;!(u=t.next()).done&&-1!==n[s](e||t,u.value,i,t);)i++}catch(n){r={e:n},t.throw&&(u=null,t.throw(r))}finally{try{u&&!u.done&&t.return&&t.return(u)}finally{if(r)throw r.e}}}}function y(n,t,e){return n.apply(t,e)}function kn(n,t,e){if(n)for(var r=n[L]>>>0,u=0;u<r&&!(u in n&&-1===t[s](e||n,n[u],u,n));u++);}var On=function(r){var u=M&&M[r];return function(n){var t,e=n&&n[r]||u;if(e)return t=arguments,(e||void 0).apply(n,e?v[s](t,1):t);I('"'+i(r)+'" not defined for '+T(n))}}("indexOf");function C(n){return(n&&n.slice||v).apply(n,v[s](arguments,1))}var xn,Nn=e.create||function(n){var t;return n?((t=typeof n)!==q&&t!=$&&I("Prototype must be an Object or function: "+T(n)),e[l]=n,new e):{};function e(){}};function Cn(n,t){return(e.setPrototypeOf||function(e,n){(xn=xn||gn(function(){return{__proto__:[]}instanceof Array})).v?e[F]=n:tn(n,function(n,t){return e[n]=t})})(n,t)}function zn(n,t){t&&(n[U]=t)}function $n(u,i,n){var t,e,o=n||Error,c=o[l][U],f=Error.captureStackTrace,n=o;return S(pn,[e=function(){var n=this,t=arguments;try{S(zn,[o,u]);var e,r=y(o,n,v[s](t))||n;return r!==n&&(e=on(n))!==on(r)&&Cn(r,e),f&&f(r,n[J]),i&&i(r,t),r}finally{S(zn,[o,c])}},U,{v:t=u,c:!0,e:!1}]),(e=Cn(e,n))[l]=n===a?Nn(n):(r[l]=n[l],new r),e;function r(){this.constructor=e,S(pn,[this,U,{v:t,c:!0,e:!1}])}}function m(){return(Date.now||qn)()}function qn(){return(new Date).getTime()}var Fn,o=yn(L),Jn="unref",Wn="hasRef";function Hn(n,t,e){var r,u=!0,i=n?t(a):a;function o(){return u=!1,i&&i[Jn]&&i[Jn](),r}function c(){i&&e(i),i=a}function f(){return i=t(i),u||o(),r}return(r={cancel:c,refresh:f,hasRef:function(){return i&&i[Wn]?i[Wn]():u},ref:function(){return u=!0,i&&i.ref&&i.ref(),r}})[Jn]=o,{h:r=_(r,"enabled",{get:function(){return!!i},set:function(n){!n&&i&&c(),n&&!i&&f()}}),dn:function(){i=a}}}function z(){return n=f,t=v[s](arguments),r=(e=d(n))?n.length:0,u=(0<r?n[0]:e?f:n)||setTimeout,i=(1<r?n[1]:f)||clearTimeout,o=t[0],t[0]=function(){c.dn(),y(o,f,v[s](arguments))},(c=Hn(!0,function(n){if(n){if(n.refresh)return n.refresh(),n;y(i,f,[n])}return y(u,f,t)},function(n){y(i,f,[n])})).h;var n,t,e,r,u,i,o,c}var Ln,Un,Bn,Gn=100,Kn=50,Mn="Promise",Qn="done",Vn="rejected";function Xn(n,t){return p(n,function(n){return t?t({status:"fulfilled",rejected:!1,value:n}):n},function(n){return t?t({status:Vn,rejected:!0,reason:n}):n})}function p(n,t,e,r){var u=n;try{if(R(n))(t||e)&&(u=n.then(t,e));else try{t&&(u=t(n))}catch(n){if(!e)throw n;u=e(n)}}finally{r&&Yn(u,r)}return u}function Yn(n,t){var e=n;return t&&(R(n)?e=n.finally?n.finally(t):n.then(function(n){return t(),n},function(n){throw t(),n}):t()),e}var Zn,nt=!1,tt=["pending","resolving","resolved",Vn],et="dispatchEvent";function rt(n){var t;return!!(t=n&&n.createEvent?n.createEvent("Event"):t)&&t.initEvent}var ut,it,ot,ct,ft,at="unhandledRejection",lt=at.toLowerCase(),st=[],vt=0,dt=10;function yt(n){return j(n)?n.toString():T(n)}function ht(n){return new(ut=ut||k(S(O,["AggregationError"]).v||$n("AggregationError",function(n,t){n.errors=t[0]}))).v(n)}function mt(n,t,e){var o,i,r,u,c,f=C(arguments,3),a=0,l=!1,s=[],v=vt++,d=0<st.length?st[st.length-1]:void 0,y=!1,h=null;function m(u,i){try{return st.push(v),y=!0,h&&h.cancel(),h=null,n(function(e,r){s.push(function(){try{var n=2===a?u:i,t=A(n)?o:j(n)?n(o):n;R(t)?t.then(e,r):(n||3!==a?e:r)(t)}catch(n){r(n)}}),l&&g()},f)}finally{st.pop()}}function p(){return tt[a]}function g(){var n;0<s.length&&(n=s.slice(),s=[],y=!0,h&&h.cancel(),h=null,t(n))}function P(t,e){return function(n){a===e&&(2===t&&R(n)?(a=1,n.then(P(2,1),P(3,1))):(a=t,l=!0,o=n,g(),y||3!==t||(h=h||z(w,dt))))}}function w(){var n,t,e,r,u;y||(y=!0,In()?process.emit(at,o,i):(n=Rn()||Sn(),t=lt,u=function(n){return pn(n,"promise",{g:function(){return i}}),n.reason=o,n},e=!!it.v,r=jn(),u(u=(Zn=Zn||k(!!S(rt,[r]).v)).v?r.createEvent("Event"):e?new Event(t):{}),Zn.v&&u.initEvent(t,!1,!0),u&&n[et]?n[et](u):(r=n["on"+t])?r(u):(e=O("console"))&&(e.error||e.log)(t,T(u))))}it=it||bn(Mn+"RejectionEvent"),_(i={then:m,catch:function(n){return m(void 0,n)},finally:function(t){var n=t,e=t;return j(t)&&(n=function(n){return t&&t(),n},e=function(n){throw t&&t(),n}),m(n,e)}},"state",{get:p}),nt&&(r=i,b=function(){return n=o,G.toString.call(n);var n},u=function(){return y},Un=Un||{toString:function(){return"[[PromiseResult]]"}},Bn=Bn||{toString:function(){return"[[PromiseIsHandled]]"}},(c={})[Ln=Ln||{toString:function(){return"[[PromiseState]]"}}]={get:p},c[Un]={get:b},c[Bn]={get:u},mn(r,c)),E||D(),x&&!E.lzy||Tn(),x.v&&(i[N(11)]="IPromise"),i.toString=function(){return"IPromise"+(nt?"["+v+(A(d)?"":":"+d)+"]":"")+" "+p()+(l?" - "+yt(o):"")},j(e)||I(Mn+": executor is not a function - "+yt(e));var b=P(3,0);try{e.call(i,P(2,0),b)}catch(n){b(n)}return i}function pt(e){return function(n){var t=C(arguments,1);return e(function(e,r){try{var u=[],i=1;Dn(n,function(n,t){n&&(i++,p(n,function(n){u[t]=n,0==--i&&e(u)},r))}),0==--i&&e(u)}catch(n){r(n)}},t)}}function gt(e){return function(t){var n=C(arguments,1);return R(t)?t:e(function(n){n(t)},n)}}function Pt(t){return function(e){var n=C(arguments,1);return t(function(n,t){t(e)},n)}}function wt(t){return k(function(i){var n=C(arguments,1);return t(function(e,t){var r=[],u=1;function n(n,t){u++,Xn(n,function(n){n.rejected?r[t]={status:Vn,reason:n.reason}:r[t]={status:"fulfilled",value:n.value},0==--u&&e(r)})}try{d(i)?kn(i,n):_n(i)?Dn(i,n):I("Input is not an iterable"),0==--u&&e(r)}catch(n){t(n)}},n)})}function bt(t){return k(function(u){var n=C(arguments,1);return t(function(t,e){var r=!1;function n(n){Xn(n,function(n){r||(r=!0,n.rejected?e(n.reason):t(n.value))})}try{d(u)?kn(u,n):_n(u)?Dn(u,n):I("Input is not an iterable")}catch(n){e(n)}},n)})}function St(e){return k(function(t){var n=C(arguments,1);return e(function(e,r){var u=[],i=1,o=!1;function n(n,t){i++,Xn(n,function(n){n.rejected?(u[t]=n.reason,0!=--i||o||r(ht(u))):(o=!0,e(n.value))})}try{d(t)?kn(t,n):_n(t)?Dn(t,n):I("Input is not an iterable"),0!=--i||o||r(ht(u))}catch(n){r(n)}},n)})}function At(n){kn(n,function(n){try{n()}catch(n){}})}function u(n,t){return mt(u,(r=Y(e=t)?e:0,function(n){z(function(){At(n)},r)}),n,t);var e,r}var c,jt,Rt,It,Tt,Et=pt(u),_t=gt(u),Dt=Pt(u);function kt(n,t){return(ot=ot||wt(u)).v(n,t)}function Ot(n,t){return(ct=ct||bt(u)).v(n,t)}function xt(n,t){return(ft=ft||St(u)).v(n,t)}function Nt(r,n){return(c=c||k(S(O,[Mn]).v||null)).v&&c.v[r]?k(function(e,n){return h(function(n,t){c.v[r](e).then(n,t)})}):n()}function h(n,t){var e=(c=c||k(S(O,[Mn]).v||null)).v;if(!e)return u(n);j(n)||I(Mn+": executor is not a function - "+T(n));var r=0,e=new e(function(t,e){n(function(n){r=2,t(n)},function(n){r=3,e(n)})});return _(e,"state",{get:function(){return tt[r]}}),e}var Ct,zt,$t,qt=gt(h),K=Pt(h);function g(n){return mt(g,At,n)}var Ft,Jt,Wt,Ht,Lt=pt(g),Ut=gt(g),Bt=Pt(g);function Gt(n){Ft=n}var Kt=Gt;function P(n,t){var c,t=A(t)?Ft:t;return mt(P,(0<=t&&(c={timeout:+t}),function(t){var e,r,n,u=function(n){At(t)},i=c;function o(n){var t=m();return{didTimeout:n,timeRemaining:function(){return Kn-(n=t,m()-n);var n}}}Fn||(r=function(){return V(requestIdleCallback)},Fn=gn(function(){var n=S(r);return!n.e&&n.v})),Fn.v&&requestIdleCallback?(e=Hn(!0,function(n){return n&&cancelIdleCallback(n),requestIdleCallback(function(n){e.dn(),u(n||o(!1))},i)},function(n){cancelIdleCallback(n)})).h:z(function(){u(o(!0))},A(n=(i||{}).timeout)?Gn:n)}),n,t)}var Mt,Qt,Vt,Xt,Yt=pt(P),Zt=gt(P),ne=Pt(P);function w(n,t){return(Mt=Mt||k(h)).v.call(this,n,t)}var te,ee,re=pt(w),ue=gt(w),ie=Pt(w);function oe(n,t,e,r){if(t.res=e,!n){if(t.isDone&&j(t.isDone))return p(t.isDone.call(r,t),function(n){return t.iter++,!!n});n=!!t.isDone}return t.iter++,n}function ce(e,n,r){var u,i,o,c,t,f=function(n){throw a=!0,n},a=!1,l={st:m(),iter:0,isDone:n||!1};if(e)return o=function(){return w(function(n,t){i=n,f=t})},c=function(n){(a=!!n)?i(l.res):t()},(t=function(){for(;!a;)try{var n=e.call(r,l);if(R(n))return u=u||o(),p(n,function(n){try{p(oe(a,l,n,r),c,f)}catch(n){f(n)}},f),u;var t=oe(a,l,n,r);if(R(t))return u=u||o(),p(t,c,f),u;a=!!t}catch(n){return f(n),u}return a&&i&&i(l.res),u||l.res})()}var fe,ae,le="reject",se="Rejected",ve=0,de={};function ye(){}function he(n,t,e){de[n]||(de[n]=$n(n));var r=m();return new de[n]("Task [".concat(t.id,"] ").concat(e||"","- ").concat(t.st?"Running":"Waiting",": ").concat((r-(t.st||t.cr)||"0")+" ms"))}function me(n,t){var e=m()-t;kn(n,function(n){(n&&!n.rj&&n.st&&n.st<e||!n.st&&n.cr&&n.cr<e)&&n&&n[le](n.rj||he("Aborted",n,"Stale "))})}function pe(n,t){t=On(n,t);-1!==t&&n.splice(t,1)}var ge=N(11);n.PolyPromise=function(){function n(n){this._$=u(n),ge&&(this[ge]="Promise"),_(this,"state",{get:function(){return this._$.state}})}n.all=Et,n.race=Ot,n.any=xt,n.reject=Dt,n.resolve=_t,n.allSettled=kt;var t=n.prototype;return t.then=function(n,t){return this._$.then(n,t)},t.catch=function(n){return this._$.catch(n)},t.finally=function(n){return this._$.finally(n)},n}(),n.arrForEachAsync=function(t,e,r){if(t){var u=o(t);if(u)return ce(function(n){n=n.iter;if(n in t)return e.call(r||t,t[n],n,t)},function(n){if(n.iter>=u||-1===n.res)return!0})}},n.createAllPromise=re,n.createAllSettledPromise=function(n,t){return(Qt=Qt||wt(w)).v(n,t)},n.createAnyPromise=function(n,t){return(Xt=Xt||St(w)).v(n,t)},n.createAsyncAllPromise=Et,n.createAsyncAllSettledPromise=kt,n.createAsyncAnyPromise=xt,n.createAsyncPromise=u,n.createAsyncRacePromise=Ot,n.createAsyncRejectedPromise=Dt,n.createAsyncResolvedPromise=_t,n.createIdleAllPromise=Yt,n.createIdleAllSettledPromise=function(n,t){return(Jt=Jt||wt(P)).v(n,t)},n.createIdleAnyPromise=function(n,t){return(Ht=Ht||St(P)).v(n,t)},n.createIdlePromise=P,n.createIdleRacePromise=function(n,t){return(Wt=Wt||bt(P)).v(n,t)},n.createIdleRejectedPromise=ne,n.createIdleResolvedPromise=Zt,n.createNativeAllPromise=function(n,t){return(jt=jt||Nt("all",function(){return k(pt(h))})).v(n,t)},n.createNativeAllSettledPromise=function(n,t){return(Rt=Rt||Nt("allSettled",function(){return wt(h)})).v(n,t)},n.createNativeAnyPromise=function(n,t){return(Tt=Tt||Nt("any",function(){return St(h)})).v(n,t)},n.createNativePromise=h,n.createNativeRacePromise=function(n,t){return(It=It||Nt("race",function(){return bt(h)})).v(n,t)},n.createNativeRejectedPromise=K,n.createNativeResolvedPromise=qt,n.createPromise=w,n.createRacePromise=function(n,t){return(Vt=Vt||bt(w)).v(n,t)},n.createRejectedPromise=ie,n.createResolvedPromise=ue,n.createSyncAllPromise=Lt,n.createSyncAllSettledPromise=function(n,t){return(Ct=Ct||wt(g)).v(n,t)},n.createSyncAnyPromise=function(n,t){return($t=$t||St(g)).v(n,t)},n.createSyncPromise=g,n.createSyncRacePromise=function(n,t){return(zt=zt||bt(g)).v(n,t)},n.createSyncRejectedPromise=Bt,n.createSyncResolvedPromise=Ut,n.createTaskScheduler=function(f,n){function a(i,o){return i.st=m(),c.push(i),y(),function(t,e){function r(n){i.rj=i.rj||n||he(se,i),i[le]=ye,h(i),t=null,e&&e(n),e=null}var n=i.id;if(i.rj)r(i.rj);else{i[le]=r;try{var u=o(n);i.to&&R(u)&&(i.t=z(function(){r(he("Timeout",i))},i.to)),p(u,function(n){h(i);try{t&&t(n)}catch(n){e&&e(n)}t=e=null},r)}catch(n){r(n)}}}}var l,e,r,u,t,i,c=[],s=[],v=0,d=(n?n+".":"")+ve++,y=(f=f||w,function(){var n=0<o(c)+o(s);0<e&&(u||(u=z(function(){me(c,e),me(s,e),u&&(u.enabled=0<o(c)+o(s))},r)).unref(),u)&&(u.enabled=n)}),h=function(n){pe(c,n),n.t&&n.t.cancel(),n.t=null,l&&l===n&&(l=null,o(c)+o(s)===0)&&(u&&u.cancel(),u=null)},n={idle:!0,queue:function(n,t,e){var r,u,i,o=d+"."+v++,c=(t&&(o+="-("+t+")"),(t={id:o,cr:m(),to:e})[le]=function(n){c.rj=n||he(se,c),c[le]=ye},t);return c.p=l?(u=l,i=n,s.push(r=c),y(),f(function(n,t){Xn(u.p,function(){pe(s,r),a(r,i)(n,t)})})):f(a(c,n)),(l=c).p},setStaleTimeout:function(n,t){u&&u.cancel(),u=null,e=n,r=t||n/10,y()}};return pn(n,"idle",{g:function(){return o(c)+o(s)===0}}),i=function(){return{l:l,r:c,w:s}},ae=ae||{toString:function(){return"[[SchedulerState]]"}},_(t=n,fe=fe||{toString:function(){return"[[SchedulerName]]"}},{get:function(){return d}}),_(t,ae,{get:i}),n},n.createTimeoutPromise=function(e,r,u){return w(function(n,t){z(function(){(r?n:t)(A(u)?"Timeout of "+e+"ms exceeded":u)},e)})},n.doAwait=p,n.doAwaitResponse=Xn,n.doFinally=Yn,n.doWhileAsync=ce,n.iterForOfAsync=function(n,e,r){var t,u,i=n;function o(n){throw t={e:n},i.throw&&(u=null,i.throw(t)),n}function c(){try{u&&!u[Qn]&&i.return&&i.return(u)}finally{if(t)throw t.e}}if(n&&(En(n)||(ee=ee||k(N(0)),i=n[ee.v]?n[ee.v]():null)||(te=te||k(N(3)),i=n[te.v]?n[te.v]():null),i)&&En(i)){n=void 0;try{return n=R(n=ce(function(t){return p(i.next(),function(n){if(!(u=n)[Qn])return function(n,t){return n.apply(t,v[s](arguments,2))}(e,r||i,u.value,t.iter,i)},function(n){t.isDone=!0,o(n)})},function(n){if(!u||u[Qn]||-1===n.res)return c(),!0},r||i))?Yn(n.catch(o),c):n}catch(n){o(n)}finally{n&&!R(n)&&c()}}},n.setCreatePromiseImpl=function(n){Mt=n?k(n):null},n.setDefaultIdlePromiseTimeout=Gt,n.setDefaultIdleTimeout=Kt,n.setPromiseDebugState=function(n,t){nt=n}}var t=this;"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(((t="undefined"!=typeof globalThis?globalThis:t||self).nevware21=t.nevware21||{},t.nevware21["ts-async"]={}));
//# sourceMappingURL=ts-async.min.js.map
