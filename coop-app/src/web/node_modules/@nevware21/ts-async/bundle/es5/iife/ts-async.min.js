/*!
 * NevWare21 - ts-async, 0.5.0
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 and contributors. All rights reserved.
 * Licensed under the MIT license.
 */
this.nevware21=this.nevware21||{},this.nevware21["ts-async"]=function(n){"use strict";var a=void 0,f=null,S="",$="function",q="object",l="prototype",F="__proto__",t="undefined",J="constructor",W="Symbol",H="_polyfill",L="length",U="name",s="call",B="toString",r=Object,G=r[l],K=String,M=Array,Q=M[l],v=Q.slice;function b(n,t){try{return{v:n.apply(this,t)}}catch(n){return{e:n}}}function V(t){return function(n){return typeof n===t}}function A(n){return typeof n===t||n===t}function X(n){return!!n||n!==a}var j=V($);function Y(n){return(n||n!==f&&!A(n))&&n&&typeof n===q}var y=M.isArray,Z=V("number");function R(n){return n&&n.then&&j(n.then)}var nn=r.getOwnPropertyDescriptor,tn=r.hasOwn||function(n,t){return!!n&&G.hasOwnProperty[s](n,t)||!!nn(n,t)};function rn(n,t,r){if(n&&Y(n))for(var e in n)if(tn(n,e)&&-1===t[s](r||n,e,n[e]))break}function I(n){throw new TypeError(n)}var en=r.freeze;function un(n){return en&&rn(n,function(n,t){(y(t)||Y(t))&&en(t)}),on(n)}var on=en||function(n){return n},cn=r.getPrototypeOf||function(n){return n[F]||f};function an(n){return t=un,r={},rn(n,function(n,t){r[n]=n,r[t]=n}),t(r);var t,r}var fn,ln=an({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),i=K,sn="__tsUtils$gblCfg";function vn(){var n;return(n=(n=(n=typeof globalThis!==t?globalThis:n)||typeof self===t?n:self)||typeof window===t?n:window)||typeof global===t?n:global}var yn,dn="[object Error]";function E(n,t){var r=S,e=G[B][s](n);e===dn&&(n={stack:i(n.stack),message:i(n.message),name:i(n.name)});try{r=(r=JSON.stringify(n,f,t?"number"==typeof t?t:4:a))&&r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||i(n)}catch(n){r=" - "+E(n,t)}return e+": "+r}function hn(t){return function(n){return n[t]}}var T,mn={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"},_=r.defineProperty,pn=r.defineProperties;function gn(n,t,r){return _(n,t,(e=r,(u={})[mn.c]=!0,u[mn.e]=!0,e.l&&(u.get=function(){return e.l.v},n=nn(e.l,"v"))&&n.set&&(u.set=function(n){e.l.v=n}),rn(e,function(n,t){u[mn[n]]=A(t)?u[mn[n]]:t}),u));var e,u}function D(){var n;fn||(n=b(vn).v||{},fn=n[sn]=n[sn]||{}),T=fn}function Pn(t){var r={};return T||D(),r.b=T.lzy,_(r,"v",{configurable:!0,get:function(){var n=t();return T.lzy||_(r,"v",{value:n}),r.b=T.lzy,n}}),r}function k(n){return _({toJSON:function(){return n}},"v",{value:n})}var e,wn="window";function Sn(n,t){var r;return function(){return T||D(),(r=r&&!T.lzy?r:k(b(n,t).v)).v}}function bn(n){return Pn(function(){return b(O,[n]).v||a})}function An(n){return T||D(),(e=e&&!1!==n&&!T.lzy?e:k(b(vn).v||f)).v}function O(n,t){t=e&&!1!==t?e.v:An(t);return t&&t[n]?t[n]:n===wn?In():f}var N,jn,Rn=Sn(O,["document"]),In=Sn(O,[wn]),En=Sn(function(){return!!b(function(){return process&&(process.versions||{}).node}).v});function Tn(){N&&N.b||(N=bn(W))}function C(n,t){var r,e=ln[n];return T||D(),N&&!T.lzy||Tn(),N.v?N.v[e||n]:t?a:(yn=yn||{},(e=ln[n])?yn[e]=yn[e]||((t={description:i(r=W+"."+e),toString:function(){return W+"("+r+")"}})[H]=!0,t):void 0)}function _n(n){return n&&j(n.next)}function Dn(n){return n!==f&&X(n)&&j(n[C(3)])}function kn(t,n,r){if(t&&(_n(t)||(t=t[(jn=jn||k(C(3))).v]?t[jn.v]():null),_n(t))){var e=void 0,u=void 0;try{for(var i=0;!(u=t.next()).done&&-1!==n[s](r||t,u.value,i,t);)i++}catch(n){e={e:n},t.throw&&(u=null,t.throw(e))}finally{try{u&&!u.done&&t.return&&t.return(u)}finally{if(e)throw e.e}}}}function d(n,t,r){return n.apply(t,r)}function On(n,t,r){if(n)for(var e=n[L]>>>0,u=0;u<e&&!(u in n&&-1===t[s](r||n,n[u],u,n));u++);}var Nn=function(e){var u=Q&&Q[e];return function(n){var t,r=n&&n[e]||u;if(r)return t=arguments,(r||void 0).apply(n,r?v[s](t,1):t);I('"'+i(e)+'" not defined for '+E(n))}}("indexOf");function z(n){return(n&&n.slice||v).apply(n,v[s](arguments,1))}var Cn,zn=r.create||function(n){var t;return n?((t=typeof n)!==q&&t!=$&&I("Prototype must be an Object or function: "+E(n)),r[l]=n,new r):{};function r(){}};function xn(n,t){return(r.setPrototypeOf||function(r,n){(Cn=Cn||Pn(function(){return{__proto__:[]}instanceof Array})).v?r[F]=n:rn(n,function(n,t){return r[n]=t})})(n,t)}function $n(n,t){t&&(n[U]=t)}function qn(u,i,n){var t,r,o=n||Error,c=o[l][U],a=Error.captureStackTrace,n=o;return b(gn,[r=function(){var n=this,t=arguments;try{b($n,[o,u]);var r,e=d(o,n,v[s](t))||n;return e!==n&&(r=cn(n))!==cn(e)&&xn(e,r),a&&a(e,n[J]),i&&i(e,t),e}finally{b($n,[o,c])}},U,{v:t=u,c:!0,e:!1}]),(r=xn(r,n))[l]=n===f?zn(n):(e[l]=n[l],new e),r;function e(){this.constructor=r,b(gn,[this,U,{v:t,c:!0,e:!1}])}}function m(){return(Date.now||Fn)()}function Fn(){return(new Date).getTime()}var Jn,o=hn(L),Wn="unref",Hn="hasRef";function Ln(n,t,r){var e,u=!0,i=n?t(f):f;function o(){return u=!1,i&&i[Wn]&&i[Wn](),e}function c(){i&&r(i),i=f}function a(){return i=t(i),u||o(),e}return(e={cancel:c,refresh:a,hasRef:function(){return i&&i[Hn]?i[Hn]():u},ref:function(){return u=!0,i&&i.ref&&i.ref(),e}})[Wn]=o,{h:e=_(e,"enabled",{get:function(){return!!i},set:function(n){!n&&i&&c(),n&&!i&&a()}}),dn:function(){i=f}}}function x(){return n=a,t=v[s](arguments),e=(r=y(n))?n.length:0,u=(0<e?n[0]:r?a:n)||setTimeout,i=(1<e?n[1]:a)||clearTimeout,o=t[0],t[0]=function(){c.dn(),d(o,a,v[s](arguments))},(c=Ln(!0,function(n){if(n){if(n.refresh)return n.refresh(),n;d(i,a,[n])}return d(u,a,t)},function(n){d(i,a,[n])})).h;var n,t,r,e,u,i,o,c}var Un=100,Bn=50;var Gn,Kn,Mn,Qn="Promise",Vn="done",Xn="rejected";function Yn(n,t){return p(n,function(n){return t?t({status:"fulfilled",rejected:!1,value:n}):n},function(n){return t?t({status:Xn,rejected:!0,reason:n}):n})}function p(n,t,r,e){var u=n;try{if(R(n))(t||r)&&(u=n.then(t,r));else try{t&&(u=t(n))}catch(n){if(!r)throw n;u=r(n)}}finally{e&&Zn(u,e)}return u}function Zn(n,t){var r=n;return t&&(R(n)?r=n.finally?n.finally(t):n.then(function(n){return t(),n},function(n){throw t(),n}):t()),r}var nt,tt=!1,rt=["pending","resolving","resolved",Xn],et="dispatchEvent";function ut(n){var t;return!!(t=n&&n.createEvent?n.createEvent("Event"):t)&&t.initEvent}var it,ot,ct,at,ft,lt="unhandledRejection",st=lt.toLowerCase(),vt=[],yt=0,dt=10;function ht(n){return j(n)?n.toString():E(n)}function mt(n){return new(it=it||k(b(O,["AggregationError"]).v||qn("AggregationError",function(n,t){n.errors=t[0]}))).v(n)}function pt(n,t,r){var o,i,e,u,c,a=z(arguments,3),f=0,l=!1,s=[],v=yt++,y=0<vt.length?vt[vt.length-1]:void 0,d=!1,h=null;function m(u,i){try{return vt.push(v),d=!0,h&&h.cancel(),h=null,n(function(r,e){s.push(function(){try{var n=2===f?u:i,t=A(n)?o:j(n)?n(o):n;R(t)?t.then(r,e):(n||3!==f?r:e)(t)}catch(n){e(n)}}),l&&g()},a)}finally{vt.pop()}}function p(){return rt[f]}function g(){var n;0<s.length&&(n=s.slice(),s=[],d=!0,h&&h.cancel(),h=null,t(n))}function P(t,r){return function(n){f===r&&(2===t&&R(n)?(f=1,n.then(P(2,1),P(3,1))):(f=t,l=!0,o=n,g(),d||3!==t||(h=h||x(w,dt))))}}function w(){var n,t,r,e,u;d||(d=!0,En()?process.emit(lt,o,i):(n=In()||An(),t=st,u=function(n){return gn(n,"promise",{g:function(){return i}}),n.reason=o,n},r=!!ot.v,e=Rn(),u(u=(nt=nt||k(!!b(ut,[e]).v)).v?e.createEvent("Event"):r?new Event(t):{}),nt.v&&u.initEvent(t,!1,!0),u&&n[et]?n[et](u):(e=n["on"+t])?e(u):(r=O("console"))&&(r.error||r.log)(t,E(u))))}ot=ot||bn(Qn+"RejectionEvent"),_(i={then:m,catch:function(n){return m(void 0,n)},finally:function(t){var n=t,r=t;return j(t)&&(n=function(n){return t&&t(),n},r=function(n){throw t&&t(),n}),m(n,r)}},"state",{get:p}),tt&&(e=i,S=function(){return n=o,G.toString.call(n);var n},u=function(){return d},Kn=Kn||{toString:function(){return"[[PromiseResult]]"}},Mn=Mn||{toString:function(){return"[[PromiseIsHandled]]"}},(c={})[Gn=Gn||{toString:function(){return"[[PromiseState]]"}}]={get:p},c[Kn]={get:S},c[Mn]={get:u},pn(e,c)),T||D(),N&&!T.lzy||Tn(),N.v&&(i[C(11)]="IPromise"),i.toString=function(){return"IPromise"+(tt?"["+v+(A(y)?"":":"+y)+"]":"")+" "+p()+(l?" - "+ht(o):"")},j(r)||I(Qn+": executor is not a function - "+ht(r));var S=P(3,0);try{r.call(i,P(2,0),S)}catch(n){S(n)}return i}function gt(r){return function(n){var t=z(arguments,1);return r(function(r,e){try{var u=[],i=1;kn(n,function(n,t){n&&(i++,p(n,function(n){u[t]=n,0==--i&&r(u)},e))}),0==--i&&r(u)}catch(n){e(n)}},t)}}function Pt(r){return function(t){var n=z(arguments,1);return R(t)?t:r(function(n){n(t)},n)}}function wt(t){return function(r){var n=z(arguments,1);return t(function(n,t){t(r)},n)}}function St(t){return k(function(i){var n=z(arguments,1);return t(function(r,t){var e=[],u=1;function n(n,t){u++,Yn(n,function(n){n.rejected?e[t]={status:Xn,reason:n.reason}:e[t]={status:"fulfilled",value:n.value},0==--u&&r(e)})}try{y(i)?On(i,n):Dn(i)?kn(i,n):I("Input is not an iterable"),0==--u&&r(e)}catch(n){t(n)}},n)})}function bt(t){return k(function(u){var n=z(arguments,1);return t(function(t,r){var e=!1;function n(n){Yn(n,function(n){e||(e=!0,n.rejected?r(n.reason):t(n.value))})}try{y(u)?On(u,n):Dn(u)?kn(u,n):I("Input is not an iterable")}catch(n){r(n)}},n)})}function At(r){return k(function(t){var n=z(arguments,1);return r(function(r,e){var u=[],i=1,o=!1;function n(n,t){i++,Yn(n,function(n){n.rejected?(u[t]=n.reason,0!=--i||o||e(mt(u))):(o=!0,r(n.value))})}try{y(t)?On(t,n):Dn(t)?kn(t,n):I("Input is not an iterable"),0!=--i||o||e(mt(u))}catch(n){e(n)}},n)})}function jt(n){On(n,function(n){try{n()}catch(n){}})}function u(n,t){return pt(u,(e=Z(r=t)?r:0,function(n){x(function(){jt(n)},e)}),n,t);var r,e}var c,Rt,It,Et,Tt,_t=gt(u),Dt=Pt(u),kt=wt(u);function Ot(n,t){return(ct=ct||St(u)).v(n,t)}function Nt(n,t){return(at=at||bt(u)).v(n,t)}function Ct(n,t){return(ft=ft||At(u)).v(n,t)}function zt(e,n){return(c=c||k(b(O,[Qn]).v||null)).v&&c.v[e]?k(function(r,n){return h(function(n,t){c.v[e](r).then(n,t)})}):n()}function h(n,t){var r=(c=c||k(b(O,[Qn]).v||null)).v;if(!r)return u(n);j(n)||I(Qn+": executor is not a function - "+E(n));var e=0,r=new r(function(t,r){n(function(n){e=2,t(n)},function(n){e=3,r(n)})});return _(r,"state",{get:function(){return rt[e]}}),r}var xt,$t,qt,M=Pt(h),K=wt(h);function g(n){return pt(g,jt,n)}var Ft,Jt,Wt,Ht,Lt=gt(g),Ut=Pt(g),Bt=wt(g);function Gt(n){Ft=n}var Kt=Gt;function P(n,t){var c,t=A(t)?Ft:t;return pt(P,(0<=t&&(c={timeout:+t}),function(t){var r,e,n,u=function(n){jt(t)},i=c;function o(n){var t=m();return{didTimeout:n,timeRemaining:function(){return Bn-(n=t,m()-n);var n}}}Jn||(e=function(){return X(requestIdleCallback)},Jn=Pn(function(){var n=b(e);return!n.e&&n.v})),Jn.v&&requestIdleCallback?(r=Ln(!0,function(n){return n&&cancelIdleCallback(n),requestIdleCallback(function(n){r.dn(),u(n||o(!1))},i)},function(n){cancelIdleCallback(n)})).h:x(function(){u(o(!0))},A(n=(i||{}).timeout)?Un:n)}),n,t)}var Mt,Qt,Vt,Xt,Yt=gt(P),Zt=Pt(P),nr=wt(P);function w(n,t){return(Mt=Mt||k(h)).v.call(this,n,t)}var tr,rr,er=gt(w),ur=Pt(w),ir=wt(w);function or(n,t,r,e){if(t.res=r,!n){if(t.isDone&&j(t.isDone))return p(t.isDone.call(e,t),function(n){return t.iter++,!!n});n=!!t.isDone}return t.iter++,n}function cr(r,n,e){var u,i,o,c,t,a=function(n){throw f=!0,n},f=!1,l={st:m(),iter:0,isDone:n||!1};if(r)return o=function(){return w(function(n,t){i=n,a=t})},c=function(n){(f=!!n)?i(l.res):t()},(t=function(){for(;!f;)try{var n=r.call(e,l);if(R(n))return u=u||o(),p(n,function(n){try{p(or(f,l,n,e),c,a)}catch(n){a(n)}},a),u;var t=or(f,l,n,e);if(R(t))return u=u||o(),p(t,c,a),u;f=!!t}catch(n){return a(n),u}return f&&i&&i(l.res),u||l.res})()}var ar,fr,lr="reject",sr="Rejected",vr=0,yr={};function dr(){}function hr(n,t,r){yr[n]||(yr[n]=qn(n));var e=m();return new yr[n]("Task [".concat(t.id,"] ").concat(r||"","- ").concat(t.st?"Running":"Waiting",": ").concat((e-(t.st||t.cr)||"0")+" ms"))}function mr(n,t){var r=m()-t;On(n,function(n){(n&&!n.rj&&n.st&&n.st<r||!n.st&&n.cr&&n.cr<r)&&n&&n[lr](n.rj||hr("Aborted",n,"Stale "))})}function pr(n,t){t=Nn(n,t);-1!==t&&n.splice(t,1)}var gr=C(11);return n.PolyPromise=function(){function n(n){this._$=u(n),gr&&(this[gr]="Promise"),_(this,"state",{get:function(){return this._$.state}})}n.all=_t,n.race=Nt,n.any=Ct,n.reject=kt,n.resolve=Dt,n.allSettled=Ot;var t=n.prototype;return t.then=function(n,t){return this._$.then(n,t)},t.catch=function(n){return this._$.catch(n)},t.finally=function(n){return this._$.finally(n)},n}(),n.arrForEachAsync=function(t,r,e){if(t){var u=o(t);if(u)return cr(function(n){n=n.iter;if(n in t)return r.call(e||t,t[n],n,t)},function(n){if(n.iter>=u||-1===n.res)return!0})}},n.createAllPromise=er,n.createAllSettledPromise=function(n,t){return(Qt=Qt||St(w)).v(n,t)},n.createAnyPromise=function(n,t){return(Xt=Xt||At(w)).v(n,t)},n.createAsyncAllPromise=_t,n.createAsyncAllSettledPromise=Ot,n.createAsyncAnyPromise=Ct,n.createAsyncPromise=u,n.createAsyncRacePromise=Nt,n.createAsyncRejectedPromise=kt,n.createAsyncResolvedPromise=Dt,n.createIdleAllPromise=Yt,n.createIdleAllSettledPromise=function(n,t){return(Jt=Jt||St(P)).v(n,t)},n.createIdleAnyPromise=function(n,t){return(Ht=Ht||At(P)).v(n,t)},n.createIdlePromise=P,n.createIdleRacePromise=function(n,t){return(Wt=Wt||bt(P)).v(n,t)},n.createIdleRejectedPromise=nr,n.createIdleResolvedPromise=Zt,n.createNativeAllPromise=function(n,t){return(Rt=Rt||zt("all",function(){return k(gt(h))})).v(n,t)},n.createNativeAllSettledPromise=function(n,t){return(It=It||zt("allSettled",function(){return St(h)})).v(n,t)},n.createNativeAnyPromise=function(n,t){return(Tt=Tt||zt("any",function(){return At(h)})).v(n,t)},n.createNativePromise=h,n.createNativeRacePromise=function(n,t){return(Et=Et||zt("race",function(){return bt(h)})).v(n,t)},n.createNativeRejectedPromise=K,n.createNativeResolvedPromise=M,n.createPromise=w,n.createRacePromise=function(n,t){return(Vt=Vt||bt(w)).v(n,t)},n.createRejectedPromise=ir,n.createResolvedPromise=ur,n.createSyncAllPromise=Lt,n.createSyncAllSettledPromise=function(n,t){return(xt=xt||St(g)).v(n,t)},n.createSyncAnyPromise=function(n,t){return(qt=qt||At(g)).v(n,t)},n.createSyncPromise=g,n.createSyncRacePromise=function(n,t){return($t=$t||bt(g)).v(n,t)},n.createSyncRejectedPromise=Bt,n.createSyncResolvedPromise=Ut,n.createTaskScheduler=function(a,n){function f(){var n=0<o(v)+o(y);0<r&&(u||(u=x(function(){mr(v,r),mr(y,r),u&&(u.enabled=0<o(v)+o(y))},e)).unref(),u)&&(u.enabled=n)}function l(i,o){return i.st=m(),v.push(i),f(),function(t,r){function e(n){i.rj=i.rj||n||hr(sr,i),i[lr]=dr,c(i),t=null,r&&r(n),r=null}var n=i.id;if(i.rj)e(i.rj);else{i[lr]=e;try{var u=o(n);i.to&&R(u)&&(i.t=x(function(){e(hr("Timeout",i))},i.to)),p(u,function(n){c(i);try{t&&t(n)}catch(n){r&&r(n)}t=r=null},e)}catch(n){e(n)}}}}function c(n){pr(v,n),n.t&&n.t.cancel(),n.t=null,s&&s===n&&(s=null,o(v)+o(y)===0)&&(u&&u.cancel(),u=null)}var s,r,e,u,t,i,v=[],y=[],d=0,h=(n?n+".":"")+vr++,n=(a=a||w,{idle:!0,queue:function(n,t,r){var e,u,i,o=h+"."+d++,c=(t&&(o+="-("+t+")"),(t={id:o,cr:m(),to:r})[lr]=function(n){c.rj=n||hr(sr,c),c[lr]=dr},t);return c.p=s?(u=s,i=n,y.push(e=c),f(),a(function(n,t){Yn(u.p,function(){pr(y,e),l(e,i)(n,t)})})):a(l(c,n)),(s=c).p},setStaleTimeout:function(n,t){u&&u.cancel(),u=null,r=n,e=t||n/10,f()}});return gn(n,"idle",{g:function(){return o(v)+o(y)===0}}),i=function(){return{l:s,r:v,w:y}},fr=fr||{toString:function(){return"[[SchedulerState]]"}},_(t=n,ar=ar||{toString:function(){return"[[SchedulerName]]"}},{get:function(){return h}}),_(t,fr,{get:i}),n},n.createTimeoutPromise=function(r,e,u){return w(function(n,t){x(function(){(e?n:t)(A(u)?"Timeout of "+r+"ms exceeded":u)},r)})},n.doAwait=p,n.doAwaitResponse=Yn,n.doFinally=Zn,n.doWhileAsync=cr,n.iterForOfAsync=function(n,r,e){var t,u,i=n;function o(n){throw t={e:n},i.throw&&(u=null,i.throw(t)),n}function c(){try{u&&!u[Vn]&&i.return&&i.return(u)}finally{if(t)throw t.e}}if(n&&(_n(n)||(rr=rr||k(C(0)),i=n[rr.v]?n[rr.v]():null)||(tr=tr||k(C(3)),i=n[tr.v]?n[tr.v]():null),i)&&_n(i)){n=void 0;try{return n=R(n=cr(function(t){return p(i.next(),function(n){if(!(u=n)[Vn])return function(n,t){return n.apply(t,v[s](arguments,2))}(r,e||i,u.value,t.iter,i)},function(n){t.isDone=!0,o(n)})},function(n){if(!u||u[Vn]||-1===n.res)return c(),!0},e||i))?Zn(n.catch(o),c):n}catch(n){o(n)}finally{n&&!R(n)&&c()}}},n.setCreatePromiseImpl=function(n){Mt=n?k(n):null},n.setDefaultIdlePromiseTimeout=Gt,n.setDefaultIdleTimeout=Kt,n.setPromiseDebugState=function(n,t){tt=n},n}({});
//# sourceMappingURL=ts-async.min.js.map
