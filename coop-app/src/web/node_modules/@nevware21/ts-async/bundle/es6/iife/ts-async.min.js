/*!
 * NevWare21 - ts-async, 0.5.0
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 and contributors. All rights reserved.
 * Licensed under the MIT license.
 */
this.nevware21=this.nevware21||{},this.nevware21["ts-async"]=function(t){"use strict";var a=void 0,l=null,S="",b="function",q="object",f="prototype",F="__proto__",e="undefined",J="constructor",W="Symbol",H="_polyfill",L="length",U="name",s="call",B="toString",n=Object,G=n[f],K=String,M=Array,Q=M[f],v=Q.slice;function A(t,e){try{return{v:t.apply(this,e)}}catch(t){return{e:t}}}function V(e){return function(t){return typeof t===e}}function j(t){return typeof t===e||t===e}function X(t){return!!t||t!==a}var R=V(b);function Y(t){return(t||t!==l&&!j(t))&&t&&typeof t===q}var y=M.isArray,Z=V("number");function I(t){return t&&t.then&&R(t.then)}var tt=n.getOwnPropertyDescriptor,et=n.hasOwn||function(t,e){return!!t&&G.hasOwnProperty[s](t,e)||!!tt(t,e)};function nt(t,e,n){if(t&&Y(t))for(var r in t)if(et(t,r)&&-1===e[s](n||t,r,t[r]))break}function E(t){throw new TypeError(t)}var rt=n.freeze;function it(t){return rt&&nt(t,function(t,e){(y(e)||Y(e))&&rt(e)}),ot(t)}var ot=rt||function(t){return t},ut=n.getPrototypeOf||function(t){return t[F]||l};function ct(t){return e=it,n={},nt(t,function(t,e){n[t]=t,n[e]=t}),e(n);var e,n}var at,lt=ct({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),o=K,ft="__tsUtils$gblCfg";function st(){var t;return(t=(t=(t=typeof globalThis!==e?globalThis:t)||typeof self===e?t:self)||typeof window===e?t:window)||typeof global===e?t:global}var vt,yt="[object Error]";function T(t,e){var n=S,r=G[B][s](t);r===yt&&(t={stack:o(t.stack),message:o(t.message),name:o(t.name)});try{n=(n=JSON.stringify(t,l,e?"number"==typeof e?e:4:a))&&n.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||o(t)}catch(t){n=" - "+T(t,e)}return r+": "+n}function dt(e){return function(t){return t[e]}}var _,ht={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"},D=n.defineProperty,mt=n.defineProperties;function pt(t,e,n){return D(t,e,(r=n,(i={})[ht.c]=!0,i[ht.e]=!0,r.l&&(i.get=function(){return r.l.v},t=tt(r.l,"v"))&&t.set&&(i.set=function(t){r.l.v=t}),nt(r,function(t,e){i[ht[t]]=j(e)?i[ht[t]]:e}),i));var r,i}function k(){var t;at||(t=A(st).v||{},at=t[ft]=t[ft]||{}),_=at}function gt(e){var n={};return _||k(),n.b=_.lzy,D(n,"v",{configurable:!0,get:function(){var t=e();return _.lzy||D(n,"v",{value:t}),n.b=_.lzy,t}}),n}function O(t){return D({toJSON:function(){return t}},"v",{value:t})}var r,Pt="window";function wt(t,e){var n;return function(){return _||k(),(n=n&&!_.lzy?n:O(A(t,e).v)).v}}function St(t){return gt(function(){return A(N,[t]).v||a})}function bt(t){return _||k(),(r=r&&!1!==t&&!_.lzy?r:O(A(st).v||l)).v}function N(t,e){e=r&&!1!==e?r.v:bt(e);return e&&e[t]?e[t]:t===Pt?Rt():l}var $,At,jt=wt(N,["document"]),Rt=wt(N,[Pt]),It=wt(function(){return!!A(function(){return process&&(process.versions||{}).node}).v});function Et(){$&&$.b||($=St(W))}function C(t,e){var n,r=lt[t];return _||k(),$&&!_.lzy||Et(),$.v?$.v[r||t]:e?a:(vt=vt||{},(r=lt[t])?vt[r]=vt[r]||((e={description:o(n=W+"."+r),toString:function(){return W+"("+n+")"}})[H]=!0,e):void 0)}function Tt(t){return t&&R(t.next)}function _t(t){return t!==l&&X(t)&&R(t[C(3)])}function Dt(e,t,n){if(e&&(Tt(e)||(e=e[(At=At||O(C(3))).v]?e[At.v]():null),Tt(e))){var r=void 0,i=void 0;try{for(var o=0;!(i=e.next()).done&&-1!==t[s](n||e,i.value,o,e);)o++}catch(t){r={e:t},e.throw&&(i=null,e.throw(r))}finally{try{i&&!i.done&&e.return&&e.return(i)}finally{if(r)throw r.e}}}}function kt(t,e,n){return t.apply(e,n)}function Ot(t,e,n){if(t)for(var r=t[L]>>>0,i=0;i<r&&!(i in t&&-1===e[s](n||t,t[i],i,t));i++);}var Nt=function(r){var i=Q&&Q[r];return function(t){var e,n=t&&t[r]||i;if(n)return e=arguments,(n||void 0).apply(t,n?v[s](e,1):e);E('"'+o(r)+'" not defined for '+T(t))}}("indexOf");function z(t){return(t&&t.slice||v).apply(t,v[s](arguments,1))}var $t,Ct=n.create||function(t){var e;return t?((e=typeof t)!==q&&e!=b&&E("Prototype must be an Object or function: "+T(t)),n[f]=t,new n):{};function n(){}};function zt(t,e){return(n.setPrototypeOf||function(n,t){($t=$t||gt(function(){return{__proto__:[]}instanceof Array})).v?n[F]=t:nt(t,function(t,e){return n[t]=e})})(t,e)}function xt(t,e){e&&(t[U]=e)}function qt(i,o,t){var e,n,u=t||Error,c=u[f][U],a=Error.captureStackTrace,t=u;return A(pt,[n=function(){var t=this,e=arguments;try{A(xt,[u,i]);var n,r=kt(u,t,v[s](e))||t;return r!==t&&(n=ut(t))!==ut(r)&&zt(r,n),a&&a(r,t[J]),o&&o(r,e),r}finally{A(xt,[u,c])}},U,{v:e=i,c:!0,e:!1}]),(n=zt(n,t))[f]=t===l?Ct(t):(r[f]=t[f],new r),n;function r(){this.constructor=n,A(pt,[this,U,{v:e,c:!0,e:!1}])}}function m(){return(Date.now||Ft)()}function Ft(){return(new Date).getTime()}var Jt,p=dt(L),Wt="unref",Ht="hasRef";function Lt(t,e,n){var r,i=!0,o=t?e(l):l;function u(){return i=!1,o&&o[Wt]&&o[Wt](),r}function c(){o&&n(o),o=l}function a(){return o=e(o),i||u(),r}return(r={cancel:c,refresh:a,hasRef:function(){return o&&o[Ht]?o[Ht]():i},ref:function(){return i=!0,o&&o.ref&&o.ref(),r}})[Wt]=u,{h:r=D(r,"enabled",{get:function(){return!!o},set:function(t){!t&&o&&c(),t&&!o&&a()}}),dn:function(){o=l}}}function x(){return t=a,e=v[s](arguments),r=(n=y(t))?t.length:0,i=(0<r?t[0]:n?a:t)||setTimeout,o=(1<r?t[1]:a)||clearTimeout,u=e[0],e[0]=function(){c.dn(),kt(u,a,v[s](arguments))},(c=Lt(!0,function(t){if(t){if(t.refresh)return t.refresh(),t;kt(o,a,[t])}return kt(i,a,e)},function(t){kt(o,a,[t])})).h;var t,e,n,r,i,o,u,c}var Ut=100,Bt=50;const Gt="Promise",Kt="done",Mt="rejected";function Qt(t,e){return g(t,t=>e?e({status:"fulfilled",rejected:!1,value:t}):t,t=>e?e({status:Mt,rejected:!0,reason:t}):t)}function g(t,e,n,r){let i=t;try{if(I(t))(e||n)&&(i=t.then(e,n));else try{e&&(i=e(t))}catch(t){if(!n)throw t;i=n(t)}}finally{r&&Vt(i,r)}return i}function Vt(t,e){let n=t;return e&&(I(t)?n=t.finally?t.finally(e):t.then(function(t){return e(),t},function(t){throw e(),t}):e()),n}let Xt,Yt,Zt,te=!1;const ee=["pending","resolving","resolved",Mt],ne="dispatchEvent";let re;function ie(t){return!!(t=t&&t.createEvent?t.createEvent("Event"):void 0)&&t.initEvent}const oe="unhandledRejection",ue=oe.toLowerCase();let ce=[],ae=0,le=10,fe,se;function ve(t){return R(t)?t.toString():T(t)}function ye(t){return new(fe=fe||O(A(N,["AggregationError"]).v||qt("AggregationError",(t,e)=>{t.errors=e[0]}))).v(t)}function de(t,e,n){let r=z(arguments,3),u=0,c=!1,a,l=[],f=ae++,i=0<ce.length?ce[ce.length-1]:void 0,s=!1,v=null,o;function y(i,o){try{return ce.push(f),s=!0,v&&v.cancel(),v=null,t(function(n,r){l.push(function(){try{var t=2===u?i:o,e=j(t)?a:R(t)?t(a):t;I(e)?e.then(n,r):(t||3!==u?n:r)(e)}catch(t){r(t)}}),c&&h()},r)}finally{ce.pop()}}function d(){return ee[u]}function h(){var t;0<l.length&&(t=l.slice(),l=[],s=!0,v&&v.cancel(),v=null,e(t))}function m(e,n){return t=>{u===n&&(2===e&&I(t)?(u=1,t.then(m(2,1),m(3,1))):(u=e,c=!0,a=t,h(),s||3!==e||(v=v||x(p,le))))}}function p(){var t,e,n,r,i;s||(s=!0,It()?process.emit(oe,a,o):(t=Rt()||bt(),e=ue,i=t=>(pt(t,"promise",{g:()=>o}),t.reason=a,t),n=!!se.v,r=jt(),i(i=(re=re||O(!!A(ie,[r]).v)).v?r.createEvent("Event"):n?new Event(e):{}),re.v&&i.initEvent(e,!1,!0),i&&t[ne]?t[ne](i):(r=t["on"+e])?r(i):(n=N("console"))&&(n.error||n.log)(e,T(i))))}se=se||St(Gt+"RejectionEvent"),o={then:y,catch:function(t){return y(void 0,t)},finally:function(e){let t=e,n=e;return R(e)&&(t=function(t){return e&&e(),t},n=function(t){throw e&&e(),t}),y(t,n)}},D(o,"state",{get:d}),te&&(g=o,b=d,P=()=>{return t=a,G.toString.call(t);var t},w=()=>s,Xt=Xt||{toString:()=>"[[PromiseState]]"},Yt=Yt||{toString:()=>"[[PromiseResult]]"},Zt=Zt||{toString:()=>"[[PromiseIsHandled]]"},(S={})[Xt]={get:b},S[Yt]={get:P},S[Zt]={get:w},mt(g,S)),_||k(),$&&!_.lzy||Et(),$.v&&(o[C(11)]="IPromise"),o.toString=function(){return"IPromise"+(te?"["+f+(j(i)?"":":"+i)+"]":"")+" "+d()+(c?" - "+ve(a):"")},R(n)||E(Gt+": executor is not a function - "+ve(n));var g,P,w,S,b=m(3,0);try{n.call(o,m(2,0),b)}catch(t){b(t)}return o}function he(n){return function(t){var e=z(arguments,1);return n((i,o)=>{try{let n=[],r=1;Dt(t,(t,e)=>{t&&(r++,g(t,t=>{n[e]=t,0==--r&&i(n)},o))}),0==--r&&i(n)}catch(t){o(t)}},e)}}function me(n){return function(e){var t=z(arguments,1);return I(e)?e:n(t=>{t(e)},t)}}function pe(e){return function(n){var t=z(arguments,1);return e((t,e)=>{e(n)},t)}}function ge(e){return O(function(o){var t=z(arguments,1);return e((n,e)=>{let r=[],i=1;function t(t,e){i++,Qt(t,t=>{t.rejected?r[e]={status:Mt,reason:t.reason}:r[e]={status:"fulfilled",value:t.value},0==--i&&n(r)})}try{y(o)?Ot(o,t):_t(o)?Dt(o,t):E("Input is not an iterable"),0==--i&&n(r)}catch(t){e(t)}},t)})}function Pe(e){return O(function(i){var t=z(arguments,1);return e((e,n)=>{let r=!1;function t(t){Qt(t,t=>{r||(r=!0,t.rejected?n(t.reason):e(t.value))})}try{y(i)?Ot(i,t):_t(i)?Dt(i,t):E("Input is not an iterable")}catch(t){n(t)}},t)})}function we(n){return O(function(e){var t=z(arguments,1);return n((n,r)=>{let i=[],o=1,u=!1;function t(t,e){o++,Qt(t,t=>{t.rejected?(i[e]=t.reason,0!=--o||u||r(ye(i))):(u=!0,n(t.value))})}try{y(e)?Ot(e,t):_t(e)?Dt(e,t):E("Input is not an iterable"),0!=--o||u||r(ye(i))}catch(t){r(t)}},t)})}function Se(t){Ot(t,t=>{try{t()}catch(t){}})}let be,Ae,je;function i(t,e){return de(i,function(t){let e=Z(t)?t:0;return t=>{x(()=>{Se(t)},e)}}(e),t,e)}var M=he(i),K=me(i),Re=pe(i);function Ie(t,e){return(be=be||ge(i)).v(t,e)}function Ee(t,e){return(Ae=Ae||Pe(i)).v(t,e)}function Te(t,e){return(je=je||we(i)).v(t,e)}let u,_e,De,ke,Oe;function Ne(r,t){return(u=u||O(A(N,[Gt]).v||null)).v&&u.v[r]?O(function(n,t){return c((t,e)=>{u.v[r](n).then(t,e)})}):t()}function c(t,e){var n=(u=u||O(A(N,[Gt]).v||null)).v;if(!n)return i(t);R(t)||E(Gt+": executor is not a function - "+T(t));let r=0;n=new n((e,n)=>{t(function(t){r=2,e(t)},function(t){r=3,n(t)})});return D(n,"state",{get:function(){return ee[r]}}),n}var $e=me(c),Ce=pe(c);let ze,xe,qe;function d(t){return de(d,Se,t)}var Fe=he(d),Je=me(d),We=pe(d);let He,Le,Ue,Be;function Ge(t){He=t}var Ke=Ge;function h(t,e){var n=j(e)?He:e;return de(h,function(){let c;return 0<=n&&(c={timeout:+n}),e=>{var n,r,t,i=t=>{Se(e)},o=c;function u(t){var e=m();return{didTimeout:t,timeRemaining:function(){return Bt-(t=e,m()-t);var t}}}Jt||(r=function(){return X(requestIdleCallback)},Jt=gt(function(){var t=A(r);return!t.e&&t.v})),Jt.v&&requestIdleCallback?(n=Lt(!0,function(t){return t&&cancelIdleCallback(t),requestIdleCallback(function(t){n.dn(),i(t||u(!1))},o)},function(t){cancelIdleCallback(t)})).h:x(function(){i(u(!0))},j(t=(o||{}).timeout)?Ut:t)}}(),t,n)}var Me=he(h),Qe=me(h),Ve=pe(h);let Xe,Ye,Ze,tn;function P(t,e){return(Xe=Xe||O(c)).v.call(this,t,e)}var en,nn=he(P),rn=me(P),on=pe(P);function un(t,e,n,r){let i=t;if(e.res=n,!i){if(e.isDone&&R(e.isDone))return g(e.isDone.call(r,e),t=>(e.iter++,!!t));i=!!e.isDone}return e.iter++,i}function cn(n,t,r){let i,o,u=t=>{throw c=!0,t},c=!1,a={st:m(),iter:0,isDone:t||!1};if(n){const l=()=>P((t,e)=>{o=t,u=e}),f=t=>{(c=!!t)?o(a.res):e()},e=()=>{for(;!c;)try{var t=n.call(r,a);if(I(t))return i=i||l(),g(t,t=>{try{g(un(c,a,t,r),f,u)}catch(t){u(t)}},u),i;var e=un(c,a,t,r);if(I(e))return i=i||l(),g(e,f,u),i;c=!!e}catch(t){return u(t),i}return c&&o&&o(a.res),i||a.res};return e()}}let an,ln;const fn="reject",sn="Rejected";let vn=0,yn,dn,hn={};function mn(){}function pn(t,e,n){hn[t]||(hn[t]=qt(t));var r=m();return new hn[t](`Task [${e.id}] ${n||""}- ${e.st?"Running":"Waiting"}: `+(r-(e.st||e.cr)||"0")+" ms")}function gn(t,e){let n=m()-e;Ot(t,t=>{(t&&!t.rj&&t.st&&t.st<n||!t.st&&t.cr&&t.cr<n)&&t&&t[fn](t.rj||pn("Aborted",t,"Stale "))})}function Pn(t,e){e=Nt(t,e);-1!==e&&t.splice(e,1)}const wn=C(11);function w(t){this._$=i(t),wn&&(this[wn]="Promise"),D(this,"state",{get:function(){return this._$.state}})}return w.all=M,w.race=Ee,w.any=Te,w.reject=Re,w.resolve=K,w.allSettled=Ie,(en=w.prototype).then=function(t,e){return this._$.then(t,e)},en.catch=function(t){return this._$.catch(t)},en.finally=function(t){return this._$.finally(t)},t.PolyPromise=w,t.arrForEachAsync=function(e,n,r){if(e){const i=p(e);if(i)return cn(t=>{t=t.iter;if(t in e)return n.call(r||e,e[t],t,e)},t=>{if(t.iter>=i||-1===t.res)return!0})}},t.createAllPromise=nn,t.createAllSettledPromise=function(t,e){return(Ye=Ye||ge(P)).v(t,e)},t.createAnyPromise=function(t,e){return(tn=tn||we(P)).v(t,e)},t.createAsyncAllPromise=M,t.createAsyncAllSettledPromise=Ie,t.createAsyncAnyPromise=Te,t.createAsyncPromise=i,t.createAsyncRacePromise=Ee,t.createAsyncRejectedPromise=Re,t.createAsyncResolvedPromise=K,t.createIdleAllPromise=Me,t.createIdleAllSettledPromise=function(t,e){return(Le=Le||ge(h)).v(t,e)},t.createIdleAnyPromise=function(t,e){return(Be=Be||we(h)).v(t,e)},t.createIdlePromise=h,t.createIdleRacePromise=function(t,e){return(Ue=Ue||Pe(h)).v(t,e)},t.createIdleRejectedPromise=Ve,t.createIdleResolvedPromise=Qe,t.createNativeAllPromise=function(t,e){return(_e=_e||Ne("all",()=>O(he(c)))).v(t,e)},t.createNativeAllSettledPromise=function(t,e){return(De=De||Ne("allSettled",()=>ge(c))).v(t,e)},t.createNativeAnyPromise=function(t,e){return(Oe=Oe||Ne("any",()=>we(c))).v(t,e)},t.createNativePromise=c,t.createNativeRacePromise=function(t,e){return(ke=ke||Ne("race",()=>Pe(c))).v(t,e)},t.createNativeRejectedPromise=Ce,t.createNativeResolvedPromise=$e,t.createPromise=P,t.createRacePromise=function(t,e){return(Ze=Ze||Pe(P)).v(t,e)},t.createRejectedPromise=on,t.createResolvedPromise=rn,t.createSyncAllPromise=Fe,t.createSyncAllSettledPromise=function(t,e){return(ze=ze||ge(d)).v(t,e)},t.createSyncAnyPromise=function(t,e){return(qe=qe||we(d)).v(t,e)},t.createSyncPromise=d,t.createSyncRacePromise=function(t,e){return(xe=xe||Pe(d)).v(t,e)},t.createSyncRejectedPromise=We,t.createSyncResolvedPromise=Je,t.createTaskScheduler=function(a,t){let l,e=[],f=[],n,r,s=0,v=(t?t+".":"")+vn++,i;a=a||P;const y=()=>{var t=0<p(e)+p(f);0<n&&(i||(i=x(()=>{gn(e,n),gn(f,n),i&&(i.enabled=0<p(e)+p(f))},r)).unref(),i)&&(i.enabled=t)},d=(o,u)=>(o.st=m(),e.push(o),y(),(e,n)=>{const r=t=>{o.rj=o.rj||t||pn(sn,o),o[fn]=mn,c(o),e=null,n&&n(t),n=null};var t=o.id;if(o.rj)r(o.rj);else{o[fn]=r;try{var i=u(t);o.to&&I(i)&&(o.t=x(()=>{r(pn("Timeout",o))},o.to)),g(i,t=>{c(o);try{e&&e(t)}catch(t){n&&n(t)}e=n=null},r)}catch(t){r(t)}}}),c=t=>{Pn(e,t),t.t&&t.t.cancel(),t.t=null,l&&l===t&&(l=null,p(e)+p(f)===0)&&(i&&i.cancel(),i=null)};var o,u,h,t={idle:!0,queue:(t,e,n)=>{let r=v+"."+s++,i=(e&&(r+="-("+e+")"),{id:r,cr:m(),to:n,[fn]:t=>{i.rj=t||pn(sn,i),i[fn]=mn}});var o,u,c;return l?i.p=(o=i,u=l,c=t,f.push(o),y(),a((t,e)=>{Qt(u.p,()=>{Pn(f,o),d(o,c)(t,e)})})):i.p=a(d(i,t)),(l=i).p},setStaleTimeout:(t,e)=>{i&&i.cancel(),i=null,n=t,r=e||t/10,y()}};return pt(t,"idle",{g:()=>p(e)+p(f)===0}),o=t,u=()=>v,h=()=>({l:l,r:e,w:f}),yn=yn||{toString:()=>"[[SchedulerName]]"},dn=dn||{toString:()=>"[[SchedulerState]]"},D(o,yn,{get:u}),D(o,dn,{get:h}),t},t.createTimeoutPromise=function(n,r,i){return P((t,e)=>{x(()=>{(r?t:e)(j(i)?"Timeout of "+n+"ms exceeded":i)},n)})},t.doAwait=g,t.doAwaitResponse=Qt,t.doFinally=Vt,t.doWhileAsync=cn,t.iterForOfAsync=function(t,n,r){let e,i,o=t;function u(t){throw e={e:t},o.throw&&(i=null,o.throw(e)),t}function c(){try{i&&!i[Kt]&&o.return&&o.return(i)}finally{if(e)throw e.e}}if(t&&(Tt(t)||(ln=ln||O(C(0)),o=t[ln.v]?t[ln.v]():null)||(an=an||O(C(3)),o=t[an.v]?t[an.v]():null),o)&&Tt(o)){let t;try{return t=I(t=cn(e=>g(o.next(),t=>{if(!(i=t)[Kt])return function(t,e){return t.apply(e,v[s](arguments,2))}(n,r||o,i.value,e.iter,o)},t=>{e.isDone=!0,u(t)}),t=>{if(!i||i[Kt]||-1===t.res)return c(),!0},r||o))?Vt(t.catch(u),c):t}catch(t){u(t)}finally{t&&!I(t)&&c()}}},t.setCreatePromiseImpl=function(t){Xe=t?O(t):null},t.setDefaultIdlePromiseTimeout=Ge,t.setDefaultIdleTimeout=Ke,t.setPromiseDebugState=function(t,e){te=t},t}({});
//# sourceMappingURL=ts-async.min.js.map
